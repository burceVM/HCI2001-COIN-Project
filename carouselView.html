<!DOCTYPE html>
<html>
    <head>
        <title>Dashboard Carousel View</title>
        <link rel="stylesheet" href="carouselView.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>

    <body>
        <div id="background-image">
            <div class="content">
                <div class="task" id="t1" onclick="startExperiment(1)">
                    <p style="margin: 15vh 15vh 0;">Click on the <b>MOST URGENT task</b> among the tasks listed on the screen</p>
                    <p class="start-instructions">Click mouse to start</p>
                </div>
                <div class="hidden" id="t2" onclick="startExperiment(2)">
                    <p style="margin: 15vh 15vh 0;">Click on the <b>MOST URGENT task</b> in MTH101A</p>
                    <p class="start-instructions">Click mouse to start</p>
                </div>
                <div class="hidden" id="t3" onclick="startExperiment(3)">
                    <p style="margin: 15vh 15vh 0;">Click on the <b>MOST RECENT UNREAD announcement</b> among the announcements listed on the screen</p>
                    <p class="start-instructions">Click mouse to start</p>
                </div>
                <div class="hidden" id="t4" onclick="startExperiment(4)">
                    <p style="margin: 15vh 15vh 0;">Click on the <b>MOST RECENT UNREAD announcement</b> in MTH101A</p>
                    <p class="start-instructions">Click mouse to start</p>
                </div>
        </div>
    <script>
        let task1Counter = 0;
        let task1Timer = 0;
        let task2Counter = 0;
        let task2Timer = 0;
        let task3Counter = 0;
        let task3Timer = 0;
        let task4Counter = 0;
        let task4Timer = 0;

            function startExperiment(tasknumber){
                $('#background-image').css('background-image', 'url("./images/background-canvas.png")')
                $('.task').css('display', 'none');
                $('.content').append(`
                <div class="carousel">
                    <span class="arrow left-arrow">&lt;</span>
                    <span>Tasks</span>
                    <span class="arrow right-arrow">&gt;</span>
                    <img id="carousel1" img src="images/carousel1.png" alt="Carousel Image 1">
                    <img id="carousel2" img src="images/carousel2.png" alt="Carousel Image 2">
                    <img id="carousel3" img src="images/carousel3.png" alt="Carousel Image 3">
                </div>
                <div class="taskCards">
                        <div class="taskCardsUpper">
                            <div class = "cards">
                                <div class="upper" style="background-color: rgb(129, 125, 125);">
                                    <image class="threedots" src="images/ThreeDot.png"></image>
                                    <p><br>CCDSTRU</p>
                                </div>
                                <div class="lower">
                                    <p style="font-size: 1rem;">[121_Discrete Structure]</p>
                                    <p style="font-size: 1.2rem;">CCDSTRU<br><span style="font-size: 0.8rem;">DLSU Default Term</span></p>
                                    <image class="icons" src="images/defaultIcons.png"></image>
                                </div>
                            </div>
                            <div class = "cards">
                                <div class="upper" style="background-color: rgb(129, 125, 125);">
                                    <image class="threedots" src="images/ThreeDot.png"></image>
                                    <p><br>CCICOMP</p>
                                </div>
                                <div class="lower">
                                    <p style="font-size: 1rem;">[121_Introduction to Computing]</p>
                                    <p style="font-size: 1.2rem;">CCICOMP<br><span style="font-size: 0.8rem;">DLSU Default Term</span></p>
                                    <image class="icons" src="images/defaultIcons.png"></image>
                                </div>
                            </div>
                            <div class = "cards">
                                <div class="upper" style="background-color: rgb(129, 125, 125);">
                                    <image class="threedots" src="images/ThreeDot.png"></image>
                                    <p><br>CCPROG1</p>
                                </div>
                                <div class="lower">
                                    <p style="font-size: 1rem;">[121_Programming]</p>
                                    <p style="font-size: 1.2rem;">CCPROG1<br><span style="font-size: 0.8rem;">DLSU Default Term</span></p>
                                    <image class="icons" src="images/defaultIcons.png"></image>
                                </div>
                            </div>
                        </div>
                        <div class="taskCardsLower">
                            <div class = "cards">
                                <div class="upper" style="background-color: rgb(129, 125, 125);">
                                    <image class="threedots" src="images/ThreeDot.png"></image>
                                    <p><br>GEPCOMM</p>
                                </div>
                                <div class="lower">
                                    <p style="font-size: 1rem;">[121_Purposive Communication]</p>
                                    <p style="font-size: 1.2rem;">GEPCOMM<br><span style="font-size: 0.8rem;">DLSU Default Term</span></p>
                                    <image class="icons" src="images/defaultIcons.png"></image>
                                </div>
                            </div>
                            <div class = "cards">
                                <div class="upper" style="background-color: rgb(129, 125, 125);">
                                    <image class="threedots" src="images/ThreeDot.png"></image>
                                    <p><br>MTH101A</p>
                                </div>
                                <div class="lower">
                                    <p style="font-size: 1rem;">[121_Mathematics]</p>
                                    <p style="font-size: 1.2rem;">MTH101A<br><span style="font-size: 0.8rem;">DLSU Default Term</span></p>
                                    <image class="icons" src="images/defaultIcons.png"></image>
                                </div>
                            </div>
                            <div class = "cards">
                                <div class="upper" style="background-color: rgb(129, 125, 125);">
                                    <image class="threedots" src="images/ThreeDot.png"></image>
                                    <p><br>STT101A</p>
                                </div>
                                <div class="lower">
                                    <p style="font-size: 1rem;">[121_Statistics]</p>
                                    <p style="font-size: 1.2rem;">STT101A<br><span style="font-size: 0.8rem;">DLSU Default Term</span></p>
                                    <image class="icons" src="images/defaultIcons.png"></image>
                                </div>
                            </div>
                        </div>
                    </div>
                `);

                showTask(tasknumber);
            }

            function showTask(tasknumber){
                var startTime = new Date().getTime();
                var endTime = new Date();
                $('#background-image').append(`
                <div id="announcements">
                    <p style="font-weight: bold;">Unread Announcements</p>
                    <hr>
                    <div class="hw" id="announcement5" style="height: 17%;">
                        <div class="iconHW">
                        </div>
                        <div class="contentHW">
                            <p><u>Discord Server For the Course</u><br><span style="font-weight: bold;">[121_CCICOMP] 
                                Introduction to Computing</span><br>
                                Mar 8 at 5pm
                            </p>
                        </div>
                        <div class="clearHW">
                        </div>
                    </div>
                    <div class="hw" id="announcement4" >
                        <div class="iconHW">
                        </div>
                        <div class="contentHW">
                            <p><u>Problem Set 1A</u><br><span style="font-weight: bold;">[121_MTH101A] 
                                Mathematics</span><br>
                                Mar 8 at 9am
                            </p>
                        </div>
                        <div class="clearHW">
                        </div>
                    </div>
                    <div class="hw" id="announcement3" style="height: 17%;">
                        <div class="iconHW">
                        </div>
                        <div class="contentHW">
                            <p><u>Syllabus Posted</u><br><span style="font-weight: bold;">[121_CCPROG1] 
                                Introduction to Computer Programming</span><br>
                                Mar 7 at 5pm
                            </p>
                        </div>
                        <div class="clearHW">
                        </div>
                    </div>
                    <div class="hw" id="announcement2" style="height: 17%;">
                        <div class="iconHW">
                        </div>
                        <div class="contentHW">
                            <p><u>Week 1 Details </u><br><span style="font-weight: bold;">[121_CCPROG1] 
                                Introduction to Computer Programming</span><br>
                                Mar 7 at 10am
                            </p>
                        </div>
                        <div class="clearHW">
                        </div>
                    </div>
                    <div class="hw" id="announcement1">
                        <div class="iconHW">
                        </div>
                        <div class="contentHW">
                            <p><u>Introduction to MTH101A</u><br><span style="font-weight: bold;">[121_MTH101A] 
                                Mathematics</span><br>
                                Mar 6 at 7pm
                            </p>
                        </div>
                        <div class="clearHW">
                        </div>
                    </div>
                </div>
                `);
                var urgentTask = $('#hw1');
                
                const container = $('#background-image');
                if(tasknumber == 1){
                    urgentTask = $('#carousel1');
                }else if(tasknumber == 2){
                    urgentTask = $('#carousel3');
                }else if(tasknumber == 3){
                    urgentTask = $('#announcement5');
                }else if(tasknumber == 4){
                    urgentTask = $('#announcement4');
                }
                let clickCntr = 0;
                
                container.on("click", function(event){
                    if($(event.target).attr("id") !== urgentTask.attr("id")){
                        clickCntr++;
                    }
                });

                urgentTask.on("click", function(){
                    endTime = new Date().getTime();
                    var duration = endTime - startTime;
                    tasknumber++;
                    $('.taskCards').remove();
                    $('#to-do').remove();
                    $('.carousel').remove();
                    if(tasknumber == 2){
                        task1Counter = clickCntr;
                        task1Timer = duration;
                        $('#t1').removeClass("task").addClass("hidden");
                        $('#t2').removeClass("hidden").addClass("task");
                    }else if(tasknumber == 3){
                        task2Counter = clickCntr;
                        task2Timer = duration;
                        $('#t2').removeClass("task").addClass("hidden");
                        $('#t3').removeClass("hidden").addClass("task");
                    }else if(tasknumber == 4){
                        task3Counter = clickCntr;
                        task3Timer = duration;
                        $('#t3').removeClass("task").addClass("hidden");
                        $('#t4').removeClass("hidden").addClass("task");
                    }else{
                        task4Counter = clickCntr;
                        task4Timer = duration;
                        $('#background-image').css('background-image', 'none')
                        $('.content').append(`
                        <span class="time-taken" style="font-size: 2.5rem;">Task 1 Duration: ${task1Timer} milliseconds</span>
                        <br>
                        <span class="wrong-counter" style="font-size: 2.5rem;">Task 1 Wrong Clicks: ${task1Counter - 1}</span>
                        <br>
                        <span class="time-taken" style="font-size: 2.5rem;">Task 2 Duration: ${task2Timer} milliseconds</span>
                        <br>
                        <span class="wrong-counter" style="font-size: 2.5rem;">Task 2 Wrong Clicks: ${task2Counter - 1}</span>
                        <br>
                        <span class="time-taken" style="font-size: 2.5rem;">Task 3 Duration: ${task3Timer} milliseconds</span>
                        <br>
                        <span class="wrong-counter" style="font-size: 2.5rem;">Task 3 Wrong Clicks: ${task3Counter - 1}</span>
                        <br>
                        <span class="time-taken" style="font-size: 2.5rem;">Task 4 Duration: ${task4Timer} milliseconds</span>
                        <br>
                        <span class="wrong-counter" style="font-size: 2.5rem;">Task 4 Wrong Clicks: ${task4Counter - 1}</span>
                        <br><br>
                        <div class="proceed" style="font-size: 2.5rem;"><u>You have accomplished all the tests. Thank you for
                            your participation!</u></div>
                        `);
                        

                    }

                    console.log("Task is: ", tasknumber);
                    console.log("Duration is: ", duration);
                    console.log("Wrong: ", clickCntr);
                    alert("You found it! You have clicked " + clickCntr + " times");

                })
                
            }

    </script>
    </body>
</html>